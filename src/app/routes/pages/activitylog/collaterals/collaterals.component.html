<ngb-tabset type="pills">
  <!--  tab starts-->
  <ngb-tab>
    <ng-template ngbTabTitle>Existing Collaterals <span class="badge badge-warning">{{collaterals?.length}}</span>
    </ng-template>
    <ng-template ngbTabContent>
      <button (click)="CollateralsSteps()" class="btn btn-primary">SHOW ME STEPS</button>
      <!-- START table-responsive-->
      <div data id="collateraltable" class="table-responsive">
        <table class="table table-striped table-bordered table-hover">
          <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Accnumber</th>
            <th scope="col">Custnumber</th>
            <th scope="col">Collateral Name</th>
            <th scope="col">Market sale value</th>
            <th scope="col">Forced sale value</th>
            <th scope="col">Reg owner</th>
            <th scope="col"></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let g of collaterals; index as i">
            <th scope="row">{{i + 1}}</th>
            <td>{{g.accnumber}}</td>
            <td>{{g.custnumber}}</td>
            <td>{{g.collateralname}}</td>
            <td>{{g.marketvalue}}</td>
            <td>{{g.forcedsale}}</td>
            <td>{{g.regowner}}</td>
            <td class="text-center">
              <button (click)="editcollateral(g)" class="btn btn-outline-success btn-sm">
                <i class="fas fa-edit"></i> edit
              </button>
            </td>
          </tr>
          </tbody>
        </table>
      </div>
    </ng-template>
  </ngb-tab>
  <ngb-tab>
    <ng-template ngbTabTitle><b>Add New Collateral</b> details</ng-template>
    <ng-template ngbTabContent>
      <button (click)="CollateralsSteps2()" class="btn btn-primary">SHOW ME STEPS</button>
      <!-- START card-->
      <div class="card card-default">
        <div class="card-body">
          <form #newCollateralForm="ngForm" (ngSubmit)="onSubmit(newCollateralForm)" autocomplete="off"
                class="form-horizontal">
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Customer custnumber</label>
              <div class="col-xl-6">
                <label for="custnumber"></label><input #custnumber="ngModel" [(ngModel)]="model.custnumber" [disabled]="true"
                                                       class="form-control"
                                                       id="custnumber" name="custnumber"
                                                       required type="text"/>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Customer accnumber</label>
              <div class="col-xl-6">
                <label for="accnumber"></label><input #accnumber="ngModel" [(ngModel)]="model.accnumber" [disabled]="true" class="form-control"
                                                      id="accnumber" name="accnumber"
                                                      required type="text"/>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Collateral title/name</label>
              <div class="col-xl-6">
                <label for="collateralname"></label><input #collateralname="ngModel" [(ngModel)]="model.collateralname" [ngClass]="{ 'is-invalid': collateralname.invalid }"
                                                           class="form-control"
                                                           id="collateralname" name="collateralname"
                                                           required
                                                           type="text"/>
                <div *ngIf="collateralname.invalid && collateralname.touched" class="validation-error">
                  collateral name
                  is required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Registered Owner</label>
              <div class="col-xl-6">
                <label for="regowner"></label><input #regowner="ngModel" [(ngModel)]="model.regowner" [ngClass]="{ 'is-invalid': regowner.invalid }" class="form-control"
                                                     id="regowner" name="regowner"
                                                     required type="text"/>
                <div *ngIf="regowner.invalid && regowner.touched" class="validation-error">
                  registered owner name
                  is required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Forced Sale Value</label>
              <div class="col-xl-6">
                <label for="forcedsale"></label><input #forcedsale="ngModel" [(ngModel)]="model.forcedsale" [ngClass]="{ 'is-invalid': forcedsale.invalid }"
                                                       class="form-control"
                                                       id="forcedsale" name="forcedsale"
                                                       required type="text"/>
                <div *ngIf="forcedsale.invalid && forcedsale.touched" class="validation-error">
                  forced sale value is
                  required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Market Sale Value</label>
              <div class="col-xl-6">
                <label for="marketvalue"></label><input #marketvalue="ngModel" [(ngModel)]="model.marketvalue" [ngClass]="{ 'is-invalid': marketvalue.invalid }"
                                                        class="form-control"
                                                        id="marketvalue" name="marketvalue"
                                                        required type="text"/>
                <div *ngIf="marketvalue.invalid && marketvalue.touched" class="validation-error">
                  Marketvalue is
                  required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Insurance Value</label>
              <div class="col-xl-6">
                <label for="insurancevalue"></label><input #insurancevalue="ngModel" [(ngModel)]="model.insurancevalue" [ngClass]="{ 'is-invalid': insurancevalue.invalid }"
                                                           class="form-control"
                                                           id="insurancevalue" name="insurancevalue"
                                                           required
                                                           type="text"/>
                <div *ngIf="insurancevalue.invalid && insurancevalue.touched" class="validation-error">
                  insurancevalue is required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Valuation Date</label>
              <div class="col-xl-6">
                <label for="valuationdate"></label><input #valuationdate="ngModel" [(ngModel)]="model.valuationdate" [ngClass]="{ 'is-invalid': valuationdate.invalid }"
                                                          class="form-control"
                                                          id="valuationdate" name="valuationdate"
                                                          required type="text"/>
                <div *ngIf="valuationdate.invalid && valuationdate.touched" class="validation-error">
                  valuationdate is required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Tenure</label>
              <div class="col-xl-6">
                <label for="tenure"></label><input #tenure="ngModel" [(ngModel)]="model.tenure" [ngClass]="{ 'is-invalid': tenure.invalid }" class="form-control"
                                                   id="tenure"
                                                   name="tenure"
                                                   required type="text"/>
                <div *ngIf="tenure.invalid && tenure.touched" class="validation-error">
                  tenure is required
                </div>
              </div>
            </div>
            <div class="form-group row">
              <label class="col-xl-3 col-form-label">Valuer</label>
              <div class="col-xl-6">
                <label for="valuer"></label><input #valuer="ngModel" [(ngModel)]="model.valuer" class="form-control" id="valuer"
                                                   name="valuer"
                                                   type="text"/>
              </div>
            </div>

            <div class="form-group row">
              <label class="col-xl-3 col-form-label"></label>
              <div class="col-xl-6">
                <button id="collateralsubmit" *ngIf="!edit" [disabled]="!newCollateralForm.valid || !newCollateralForm.dirty"
                        class="btn btn-sm btn-outline-primary" type="submit">Submit
                </button>
                <button id="collateralreset" (click)="reset()" *ngIf="!edit" class="btn btn-sm btn-outline-danger"
                        type="button">Reset
                </button>
                <button (click)="updatecollateral(model)" *ngIf="edit"
                        [disabled]="newCollateralForm.invalid" class="mb-1 mr-1 btn btn-sm btn-outline-warning  col-form-label"
                        type="button">Update
                </button>
                <button (click)="cancel()" *ngIf="edit"
                        class="mb-1 mr-1 btn btn-sm btn-outline-danger  col-form-label" type="button">Cancel
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
      <!--      end of card-->
    </ng-template>
  </ngb-tab>

</ngb-tabset>
