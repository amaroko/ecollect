<div>
  <div class="card">
    <ngx-spinner bdColor="rgba(51,51,51,0.8)" size="medium" color="#fff" type="ball-spin-fade">
      <p style="font-size: 20px; color: white">Processing ...</p>
    </ngx-spinner>
    <div class="card-header">
      <strong>Collector activity </strong> capture
    </div>
    <form [formGroup]="actionForm" (ngSubmit)="onSubmit()" novalidate autocomplete="off">
      <div class="card-body">
        <div class="row">
          <div class="col-xl-2 col-md-3">
            Collector action
          </div>
          <div class="col-md-9">
            <div class="col-md-12">
              <select id="collectoraction" name="collectoraction" formControlName="collectoraction"
                class="form-control" [ngClass]="{ 'is-invalid': f.collectoraction.errors }">
                <option value="">Please select</option>
                <option *ngFor="let action of collectoraction" [value]="action.collectoractionid">
                  {{action.collectoraction}}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-xl-2 col-md-3">
            Party contacted
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <select id="party" name="party" [disabled] = "collectoraction"
                formControlName="party" class="form-control" [ngClass]="{ 'is-invalid': f.party.errors }">
                <option value="">Please select</option>
                <option *ngFor="let p of party" [value]="p.partyid">{{p.party}}</option>
              </select>
            </div>
          </div>
          <div class="col-md-3">
            Reason for default
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <!--<select id="reason" name="reason" class="form-control" name="reason"
                formControlName="reason" [ngClass]="{ 'is-invalid': f.reason.errors }">
                <option value="0">Please select</option>
                <option *ngFor="let ex of excuse" [value]="ex.excuseid">{{ex.excuse}}</option>
              </select>-->
              <ng-select id="reason" name="reason" formControlName="reason" [ngClass]="{ 'is-invalid': f.reason.errors }">
                  <ng-option *ngFor="let ex of excuse" [value]="ex.excuse" >{{ex.excuse}}</ng-option>
              </ng-select>
            </div>
          </div>
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-xl-2 col-md-3">
            Promise to pay
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <select id="ptp" name="ptp" class="form-control" name="ptp" class="form-control" formControlName="ptp"
                class="form-control" [ngClass]="{ 'is-invalid': f.ptp.errors }">
                <option value="">Please select</option>
                <option value="NO">NO</option>
                <option value="YES">YES</option>
              </select>
            </div>
          </div>
          <div class="col-md-3">
            Route for review
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <select id="route" name="route" class="form-control" formControlName="route" class="form-control"
                [ngClass]="{ 'is-invalid': f.route.errors }">
                <option value="">Please select</option>
                <option value="NO">NO</option>
                <option value="YES">YES</option>
              </select>

            </div>
          </div>
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-xl-2 col-md-3">
            Promise amount
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <input type="number" class="form-control" formControlName="ptpamount" class="form-control"
                [ngClass]="{ 'is-invalid': f.ptpamount.errors }">
            </div>
          </div>
          <div class="col-md-3">
            CMD status
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <!---<select id="cmdstatus" name="cmdstatus" formControlName="cmdstatus"
                class="form-control" [ngClass]="{ 'is-invalid': f.cmdstatus.errors }">
                <option value="">Please select</option>
                <option *ngFor="let cmd of cmdstatus" [value]="cmd.cmdstatus">{{cmd.cmdstatus}}</option>
              </select>-->
              <ng-select id="cmdstatus" name="cmdstatus" formControlName="cmdstatus" [ngClass]="{ 'is-invalid': f.cmdstatus.errors }">
                  <ng-option *ngFor="let cmd of cmdstatus" [value]="cmd.cmdstatus" >{{cmd.cmdstatus}}</ng-option>
              </ng-select>
            </div>
          </div>
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-xl-2 col-md-3">
            Promise date
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" id="ptpdate" name="ptpdate" name="ptpdate"
                  ngbDatepicker #p="ngbDatepicker" formControlName="ptpdate" />
                <div class="input-group-append">
                  <button class="btn btn-outline-primary" (click)="p.toggle()" type="button"><span><i
                        class="fa fa-calendar"></i>
                    </span></button>
                </div>
              </div>
            </div>
          </div>
          <!--<div class="col-md-3">
            Branch status
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <select id="branchstatus" name="branchstatus" formControlName="branchstatus"
                class="form-control" [ngClass]="{ 'is-invalid': f.branchstatus.errors }">
                <option value="">Please select</option>
                <option *ngFor="let br of branchstatus" [value]="br.id">{{br.branchstatus}}</option>
              </select>
              <ng-select id="branchstatus" name="branchstatus" formControlName="branchstatus" [ngClass]="{ 'is-invalid': f.branchstatus.errors }">
                  <ng-option *ngFor="let br of branchstatus" [value]="br.branchstatus" >{{br.branchstatus}}</ng-option>
              </ng-select>
            </div>
          </div>-->
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-xl-2 col-md-3">
            Payment mode
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <select id="paymode" name="paymode" class="form-control" formControlName="paymode" class="form-control"
                [ngClass]="{ 'is-invalid': f.paymode.errors }">
                <option value="">Please select</option>
                <option>Cash</option>
                <option>Cheque</option>
                <option>Mobile Transfer</option>
                <option>Bank Transfer</option>
              </select>
            </div>
          </div>
         <!-- <div class="col-md-3">
            Curing method
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <ng-select id="cure" name="cure" formControlName="cure" [ngClass]="{ 'is-invalid': f.cure.errors }">
                  <ng-option *ngFor="let c of cure" [value]="c.cure" >{{c.cure}}</ng-option>
              </ng-select>
            </div>
          </div>-->
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-xl-2 col-md-3">
            Review date
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <div class="input-group">
                <input class="form-control" placeholder="yyyy-mm-dd" id="reviewdate" name="reviewdate" name="reviewdate"
                  ngbDatepicker #d="ngbDatepicker" formControlName="reviewdate" />
                <div class="input-group-append">
                  <button class="btn btn-outline-primary" (click)="d.toggle()" type="button"><span><i
                        class="fa fa-calendar"></i>
                    </span></button>
                </div>
              </div>

            </div>
          </div>
          <div class="col-md-3">
            Other reason for default
          </div>
          <div class="col-md-3">
            <div class="col-md-12">
              <textarea rows="2" id="rfdother" name="rfdother" class="form-control" formControlName="rfdother"
                class="form-control"></textarea>
            </div>
          </div>
        </div>

        <div class="row" style="padding-top: 20px">
          <div class="col-md-12">
            <label>Collector note</label>
            <textarea class="form-control" rows="5" id="collectornote" name="collectornote" name="collectornote"
              class="form-control" formControlName="collectornote" class="form-control"
              [ngClass]="{ 'is-invalid': f.collectornote.errors }"></textarea>
          </div>

        </div>
        <div class="form-group row">
          <div class="col-md-9 col-form-label">
            <!--<label class="switch switch-label switch-outline-warning-alt">
                <input type="checkbox" class="switch-input">
                Pin this note <span class="switch-slider" data-checked="Yes" data-unchecked="No"></span>
              </label>-->
          </div>
        </div>
      </div>
      <div class="card-footer">
        <button type="submit" [disabled]="actionForm.invalid" class="btn btn-sm btn-primary"><i
            class="fa fa-dot-circle-o"></i> Submit</button>
        <button type="reset" class="btn btn-sm btn-danger" (click)="reset()"><i class="fa fa-ban"></i> Reset</button>
      </div>
    </form>
    <pre>{{actionForm.valid | json}}</pre>
  </div>
</div>