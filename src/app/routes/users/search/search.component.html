<div class="content-heading">
  <div>Users
    <small>Create or search new user</small></div>
</div>
<div class="container-fluid">
  <div class="row">
    <div class="col-lg-12">
      <form (submit)="submitForm($event, valForm.value)" [formGroup]="valForm" class="form-validate form-horizontal"
            novalidate="">
        <!-- START card-->
        <div class="card card-default">
          <div class="card-body">
            <div class="form-row">
              <div class="col-xl-12 col-lg-6 form-inline">
                <label> </label>
                <label>
                  <input [formControl]="valForm.controls['username']" [ngClass]="{ 'is-invalid': valForm.controls['username'].hasError('required') && (valForm.controls['username'].dirty || valForm.controls['username'].touched) }" class="form-control" formControlName="username"
                         placeholder="username"
                         type="text"/>
                </label>
                <button (click)="search(valForm.value.username)" [disabled]="valForm.controls['username'].hasError('required')" class="btn btn-outline-inverse"
                        type="button"><span
                  class="fa fa-search"></span>
                  Search
                </button>

              </div>
            </div>
            <div class="form-row">
              <div class="col-lg-4 mb-3">
                <label>First Name</label>
                <label>
                  <input [formControl]="valForm.controls['firstname']" class="form-control" formControlName="firstname"
                         type="text"/>
                </label>
                <span *ngIf="valForm.controls['firstname'].hasError('required') && (valForm.controls['firstname'].dirty || valForm.controls['firstname'].touched)"
                      class="text-danger">firstname
                  is required</span>
              </div>
              <div class="col-lg-4 mb-3">
                <label>Last Name</label>
                <label>
                  <input [formControl]="valForm.controls['lastname']" class="form-control" formControlName="lastname"
                         type="text"/>
                </label>
                <span *ngIf="valForm.controls['lastname'].hasError('required') && (valForm.controls['lastname'].dirty || valForm.controls['lastname'].touched)"
                      class="text-danger">lastname
                  is required</span>
              </div>
              <div class="col-lg-4 mb-3">
                <label>Surname</label>
                <div class="input-group">
                  <label>
                    <input [formControl]="valForm.controls['surname']" class="form-control" formControlName="surname"
                           type="text"/>
                  </label>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="col-lg-4 mb-3">
                <label>Division</label>
                <label>
                  <select [formControl]="valForm.controls['division']" class="form-control" formControlName="division">
                    <option value="">Please select</option>
                    <option value="SUPPORT">SUPPORT</option>
                    <option value="REMEDIAL">REMEDIAL</option>
                    <option value="CREDITCARD">CREDITCARD</option>
                    <option value="BRANCH">BRANCH</option>
                    <option value="TELECOLLECTOR">TELECOLLECTOR</option>
                  </select>
                </label>
                <span *ngIf="valForm.controls['division'].hasError('required') && (valForm.controls['division'].dirty || valForm.controls['division'].touched)"
                      class="text-danger">division
                  is required</span>
              </div>
              <div class="col-lg-4 mb-3">
                <label>Branch</label>
                <label>
                  <select [formControl]="valForm.controls['branch']" class="form-control" formControlName="branch">
                    <option value="">Please select</option>
                    <option *ngFor="let b of branches" [value]="b?.branchcode">{{b?.branchname}}</option>
                  </select>
                </label>
                <span *ngIf="valForm.controls['branch'].hasError('required') && (valForm.controls['branch'].dirty || valForm.controls['branch'].touched)"
                      class="text-danger">branch
                  is required</span>
              </div>
              <div class="col-lg-4 mb-3">
                <label>Manager</label>
                <div class="input-group">
                  <label>
                    <input [formControl]="valForm.controls['manager']" class="form-control" formControlName="manager"
                           type="text"/>
                  </label>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="col-lg-4 mb-3">
                <label>Email</label>
                <label>
                  <input [formControl]="valForm.controls['email']" class="form-control" formControlName="email"
                         type="text"/>
                </label>
              </div>
              <!--<div class="col-lg-4 mb-3">
                <label>Create date</label>
                <input class="form-control" type="text" formControlName="createdate"
                  [formControl]="valForm.controls['createdate']" />
              </div>-->
              <div class="col-lg-4 mb-3">
                <label>Team</label>
                <label>
                  <select [formControl]="valForm.controls['team']" class="form-control" formControlName="team">
                    <option value="">Please select</option>
                    <option value="CMD-COLLECTIONS">CMD-COLLECTIONS</option>
                    <option value="CMD-REMEDIAL">CMD-REMEDIAL</option>
                    <option value="CREDITCARD">CREDITCARD</option>
                    <option value="BRANCH">BRANCH</option>
                    <option value="OTHER">OTHER</option>
                  </select>
                </label>
                <span *ngIf="valForm.controls['team'].hasError('required') && (valForm.controls['team'].dirty || valForm.controls['team'].touched)"
                      class="text-danger">Team
                  is required</span>
              </div>
              <div class="col-lg-4 mb-3">
                <label>Expiry Date</label>
                <div class="input-group">
                  <label>
                    <input #dp="bsDatepicker" [bsConfig]="bsConfig" [bsValue]="bsValue" [formControl]="valForm.controls['expirydate']" bsDatepicker
                           class="form-control" formControlName="expirydate" name="dp-basic"
                           type="text"/>
                  </label>
                </div>
              </div>
            </div>
            <fieldset class="b0">
              <div class="form-group row">
                <label class="col-md-2 col-form-label">Active</label>
                <div class="col-md-10">
                  <div class="ml-auto">
                    <label class="switch switch-lg m-0">
                      <input [formControl]="valForm.controls['active']" checked="checked" formControlName="active"
                             type="checkbox"/>
                      <span></span>
                    </label>
                  </div>
                </div>
              </div>
            </fieldset>

            <fieldset class="b0">
              <div class="form-group row">
                <label class="col-md-2 col-form-label">Roles</label>
                <div class="col-md-10">
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" formControlName="role" name="role" type="radio"
                             value="admin"/>
                      <span class="fa fa-circle"></span>Administrator</label>
                  </div>
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" checked="" formControlName="role" name="role" type="radio"
                             value="telecollector"/>
                      <span class="fa fa-circle"></span>Tele Collector</label>
                  </div>
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" formControlName="role" name="role" type="radio"
                             value="teamleader"/>
                      <span class="fa fa-circle"></span>Team Leader</label>
                  </div>
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" formControlName="role" name="role" type="radio"
                             value="remedial"/>
                      <span class="fa fa-circle"></span>Remedial</label>
                  </div>
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" formControlName="role" name="role" type="radio"
                             value="branchuser"/>
                      <span class="fa fa-circle"></span>Branch User</label>
                  </div>
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" formControlName="role" name="role" type="radio"
                             value="branchmanager"/>
                      <span class="fa fa-circle"></span>Branch Manager</label>
                  </div>
                  <div class="c-radio">
                    <label>
                      <input [formControl]="valForm.controls['role']" formControlName="role" name="role" type="radio"
                             value="creditcards"/>
                      <span class="fa fa-circle"></span>Credit Cards</label>
                  </div>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
        <!-- Buttons -->
        <fieldset>
          <div class="d-flex justify-content-center">
            <button class="btn btn-warning" type="button">Cancel</button>
            <button class="btn btn-secondary" type="submit">{{buttonTitle}}</button>
          </div>
        </fieldset>
      </form>
    </div>
  </div>
</div>
